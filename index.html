<!DOCTYPE html>
<html>
<head>
    <title>Professional Half-Bridge PCB Artwork Visualizer</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background: #1a1a1a; color: #eee; display: flex; }
        #controls { width: 300px; padding: 20px; background: #252525; border-right: 1px solid #444; }
        #pcb-container { flex-grow: 1; display: flex; justify-content: center; align-items: center; background: #111; position: relative; }
        svg { background: #0c1a10; box-shadow: 0 0 50px rgba(0,0,0,0.5); border: 3px solid #333; }
        .layer { transition: opacity 0.3s; }
        .label-text { font-size: 2px; fill: white; pointer-events: none; font-family: monospace; }
        button { width: 100%; padding: 10px; margin: 5px 0; cursor: pointer; border: none; border-radius: 4px; font-weight: bold; }
        .btn-l1 { background: #ff4d4d; color: white; }
        .btn-l2 { background: #4dffff; color: #000; }
        .btn-l3 { background: #4dff4d; color: #000; }
        .btn-l4 { background: #ff4dff; color: white; }
        .info { font-size: 0.8em; color: #aaa; margin-top: 20px; line-height: 1.6; }
        strong { color: #ffd700; }
    </style>
</head>
<body>

<div id="controls">
    <h3>Layer Visibility</h3>
    <button class="btn-l1" onclick="toggleLayer('L1')">Layer 1: Top (Power/Gate)</button>
    <button class="btn-l2" onclick="toggleLayer('L2')">Layer 2: Inner (Vdc- Plane)</button>
    <button class="btn-l3" onclick="toggleLayer('L3')">Layer 3: Inner (Kelvin Ret)</button>
    <button class="btn-l4" onclick="toggleLayer('L4')">Layer 4: Bottom (Phase/Aux)</button>
    
    <div class="info">
        <strong>Expert Direction:</strong><br>
        1. <b>Red (L1)</b> & <b>Cyan (L2)</b> overlap creates a low-inductance DC-link.<br><br>
        2. <b>Gate Path (L1)</b> and <b>Kelvin Return (L3)</b> are stacked to cancel magnetic flux.<br><br>
        3. <b>Phase Node (Purple, L4)</b> is maximized for thermal but kept away from signal lines.
    </div>
</div>

<div id="pcb-container">
    <svg width="800" height="600" viewBox="0 0 120 90">
        <rect x="0" y="0" width="120" height="90" fill="#0c1a10" />
        
        <g id="L2" class="layer" style="opacity: 0.4;">
            <path d="M 5 5 H 55 V 85 H 5 Z" fill="#00ffff" fill-opacity="0.5" />
            <text x="7" y="10" class="label-text" fill="#00ffff">L2: DC- POWER PLANE</text>
        </g>

        <g id="L4" class="layer" style="opacity: 0.3;">
            <rect x="60" y="30" width="40" height="40" fill="#ff00ff" />
            <text x="62" y="35" class="label-text" fill="#ff00ff">L4: PHASE NODE (Vsw)</text>
        </g>

        <g id="L3" class="layer" style="opacity: 0.6;">
            <path d="M 82 22 L 95 22 L 95 15" stroke="#00ff00" stroke-width="1.5" fill="none" />
            <path d="M 82 52 L 95 52 L 95 45" stroke="#00ff00" stroke-width="1.5" fill="none" />
            <text x="85" y="12" class="label-text" fill="#00ff00">L3: KELVIN RETURN</text>
        </g>

        <g id="L1" class="layer">
            <path d="M 5 10 H 50 V 30 H 60 V 15 H 75 V 35 H 5 Z" fill="#ff4d4d" fill-opacity="0.7" />
            <text x="7" y="14" class="label-text">L1: Vdc+ MAIN BUS</text>

            <g id="Q1">
                <rect x="60" y="15
