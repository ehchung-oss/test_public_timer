<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Ultimate Half-Bridge Artwork Manager (20yr Expert Edition)</title>
    <style>
        body { font-family: 'Consolas', monospace; background: #111; color: #0f0; margin: 0; display: flex; }
        #sidebar { width: 350px; background: #1a1a1a; border-right: 2px solid #333; height: 100vh; padding: 20px; box-sizing: border-box; overflow-y: auto; }
        #viewer { flex-grow: 1; display: flex; align-items: center; justify-content: center; background: #000; }
        .layer-ctrl { margin-bottom: 15px; background: #222; padding: 12px; border-radius: 6px; border-left: 5px solid #444; }
        h2 { color: #ffca28; font-size: 1.1rem; border-bottom: 1px solid #ffca28; padding-bottom: 8px; }
        .desc { font-size: 0.75rem; color: #888; margin-top: 5px; line-height: 1.4; }
        svg { background: #08120a; border: 1px solid #444; }
        .pad-label { font-size: 1.2px; fill: #000; font-weight: bold; }
        .silk-label { font-size: 2px; fill: #fff; pointer-events: none; }
    </style>
</head>
<body>

<div id="sidebar">
    <h2>[PRO] Layout Manager</h2>
    <div class="layer-ctrl" style="border-left-color: #ff3d00;">
        <label><input type="checkbox" id="vL1" checked onchange="draw()"> L1: TOP (Power/Signal)</label>
        <input type="range" id="oL1" min="0" max="100" value="85" oninput="draw()" style="width:100%">
    </div>
    <div class="layer-ctrl" style="border-left-color: #00e5ff;">
        <label><input type="checkbox" id="vL2" checked onchange="draw()"> L2: INNER 1 (GND Plane)</label>
        <input type="range" id="oL2" min="0" max="100" value="30" oninput="draw()" style="width:100%">
    </div>
    <div class="layer-ctrl" style="border-left-color: #d500f9;">
        <label><input type="checkbox" id="vL3" checked onchange="draw()"> L3: INNER 2 (Kelvin Ret)</label>
        <input type="range" id="oL3" min="0" max="100" value="60" oninput="draw()" style="width:100%">
    </div>
    <div class="layer-ctrl" style="border-left-color: #ffea00;">
        <label><input type="checkbox" id="vL4" checked onchange="draw()"> L4: BOTTOM (Phase/Heat)</label>
        <input type="range" id="oL4" min="0" max="100" value="20" oninput="draw()" style="width:100%">
    </div>
    <div style="font-size: 0.7rem; color: #aaa; border: 1px dashed #444; padding: 10px;">
        <b>Design Check:</b><br>
        - 2x Elec Caps (Bulk)<br>
        - 2x Film Caps (High-Freq)<br>
        - 2x TO-247-4 MOSFETs<br>
        - 2x SOIC-8 Drivers<br>
        - 2x RECOM DC/DC<br>
        - 4x 2012 Resistors
    </div>
</div>

<div id="viewer">
    <svg width="900" height="700" viewBox="0 0 160 120" id="pcb">
        <g id="gL2" fill="#00e5ff">
            <rect x="5" y="5" width="85" height="110" fill-opacity="0.5" />
        </g>

        <g id="gL4" fill="#ffea00">
            <rect x="90" y="40" width="30" height="40" fill-opacity="0.3" />
        </g>

        <g id="gL3" stroke="#d500f9" stroke-width="0.8" fill="none">
            <path d="M 112 24.54 H 135 V 32" />
            <path d="M 112 74.54 H 135 V 82" />
        </g>

        <g id="gL1">
            <path d="M 10 20 H 90 V 40 H 105 V 20 H 120 V 45 H 10 Z" fill="#ff3d00" fill-opacity="0.7" />
            <path d="M 90 50 H 125 V 70 H 90 Z" fill="#ff3d00" fill-opacity="0.9" />
            <path d="M 10 80 H 90 V 110 H 105 V 90 H 120 V 110 H 10 Z" fill="#ff3d00" fill-opacity="0.7" />
            
            <path d="M 135 28 H 120 L 112 22" stroke="#ff3d00" stroke-width="0.6" fill="none" />
            <path d="M 135 78 H 120 L 112 72" stroke="#ff3d00" stroke-width="0.6" fill="none" />
        </g>

        <g id="gSilk">
            <rect x="5" y="50" width="10" height="20" fill="none" stroke="#fff" stroke-width="0.3"/>
            <text x="5" y="48" class="silk-label">J1:PWR</text>
            <rect x="145" y="50" width="10" height="20" fill="none" stroke="#fff" stroke-width="0.3"/>
            <text x="140" y="48" class="silk-label">J2:PWM</text>

            <circle cx="25" cy="30" r="8" fill="none" stroke="#fff" stroke-width="0.4" />
            <circle cx="25" cy="90" r="8" fill="none" stroke="#fff" stroke-width="0.4" />

            <rect x="50" y="20" width="10" height="25" fill="none" stroke="#00e5ff" stroke-width="0.5" />
            <rect x="50" y="75" width="10" height="25" fill="none" stroke="#00e5ff" stroke-width="0.5" />

            <g transform="translate(92, 20)">
                <rect x="0" y="0" width="16" height="20" stroke="#ffd700" stroke-width="0.4" fill="none" />
                <circle cx="20" cy="2" r="1.3" fill="#ccc" /><text x="19.5" y="2.5" class="pad-label">1</text>
                <circle cx="20" cy="4.54" r="1.3" fill="#ccc" /><text x="19.5" y="5.04" class="pad-label">2</text>
                <circle cx="20" cy="9.62" r="1.3" fill="#ccc" /><text x="19.5" y="10.12" class="pad-label">3</text>
                <circle cx="20" cy="12.16" r="1.3" fill="#ccc" /><text x="19.5" y="12.66" class="pad-label">4</text>
            </g>

            <g transform="translate(92, 70)">
                <rect x="0" y="0" width="16" height="20" stroke="#ffd700" stroke-width="0.4" fill="none" />
                <circle cx="20" cy="2" r="1.3" fill="#ccc" /><text x="19.5" y="2.5" class="pad-label">1</text>
                <circle cx="20" cy="4.54" r="1.3" fill="#ccc" /><text x="19.5" y="5.04" class="pad-label">2</text>
                <circle cx="20" cy="9.62" r="1.3" fill="#ccc" /><text x="19.5" y="10.12" class="pad-label">3</text>
                <circle cx="20" cy="12.16" r="1.3" fill="#ccc" /><text x="19.5" y="12.66" class="pad-label">4</text>
            </g>

            <rect x="135" y="25" width="8" height="10" fill="none" stroke="#fff" />
            <rect x="135" y="75" width="8" height="10" fill="none" stroke="#fff" />
            <rect x="145" y="5" width="12" height="15" fill="none" stroke="#888" />
            <rect x="145" y="100" width="12" height="15" fill="none" stroke="#888" />

            <rect x="115" y="21" width="2" height="1.2" fill="#fff" />
            <rect x="115" y="23" width="2" height="1.2" fill="#fff" />
            <rect x="115" y="71" width="2" height="1.2" fill="#fff" />
            <rect x="115" y="73" width="2" height="1.2" fill="#fff" />
        </g>
    </svg>
</div>

<script>
    function draw() {
        ['L1', 'L2', 'L3', 'L4'].forEach(l => {
            const g = document.getElementById('g' + l);
            g.style.display = document.getElementById('v' + l).checked ? 'inline' : 'none';
            g.setAttribute('opacity', document.getElementById('o' + l).value / 100);
        });
    }
    draw();
</script>
</body>
</html>
