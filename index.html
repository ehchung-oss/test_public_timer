<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Professional Power PCB Artwork Manager (Expert Ver.)</title>
    <style>
        body { font-family: 'Consolas', monospace; background: #111; color: #0f0; margin: 0; display: flex; }
        #sidebar { width: 380px; background: #1a1a1a; border-right: 2px solid #333; height: 100vh; overflow-y: auto; padding: 20px; box-sizing: border-box; }
        #viewer { flex-grow: 1; display: flex; align-items: center; justify-content: center; background: #000; position: relative; }
        .layer-ctrl { margin-bottom: 15px; background: #222; padding: 12px; border-radius: 6px; border-left: 5px solid #444; }
        h2 { color: #ffca28; font-size: 1.1rem; border-bottom: 1px solid #ffca28; padding-bottom: 8px; }
        .desc { font-size: 0.8rem; color: #888; margin-top: 6px; line-height: 1.3; }
        svg { background: #08120a; border: 1px solid #444; }
        .pad-label { font-size: 1.5px; fill: #000; pointer-events: none; font-weight: bold; }
        .silk-label { font-size: 2.5px; fill: #fff; pointer-events: none; }
    </style>
</head>
<body>

<div id="sidebar">
    <h2>[Expert Mode] Layout Manager</h2>
    
    <div class="layer-ctrl" style="border-left-color: #f44336;">
        <label><input type="checkbox" id="vL1" checked onchange="draw()"> L1: TOP (Power/Signal)</label>
        <input type="range" id="oL1" min="0" max="100" value="90" oninput="draw()" style="width:100%">
        <div class="desc">Vdc+, Gate Trace, Component Pads</div>
    </div>

    <div class="layer-ctrl" style="border-left-color: #00bcd4;">
        <label><input type="checkbox" id="vL2" checked onchange="draw()"> L2: INNER 1 (GND Plane)</label>
        <input type="range" id="oL2" min="0" max="100" value="30" oninput="draw()" style="width:100%">
        <div class="desc">DC- Solid Plane (Magnetic Shielding)</div>
    </div>

    <div class="layer-ctrl" style="border-left-color: #e91e63;">
        <label><input type="checkbox" id="vL3" checked onchange="draw()"> L3: INNER 2 (Kelvin Return)</label>
        <input type="range" id="oL3" min="0" max="100" value="50" oninput="draw()" style="width:100%">
        <div class="desc">Kelvin Source Trace (Shadowing Gate)</div>
    </div>

    <div class="layer-ctrl" style="border-left-color: #ffeb3b;">
        <label><input type="checkbox" id="vL4" checked onchange="draw()"> L4: BOTTOM (Phase Node)</label>
        <input type="range" id="oL4" min="0" max="100" value="20" oninput="draw()" style="width:100%">
        <div class="desc">Heat Spreading, Vsw Node Expansion</div>
    </div>

    <div style="font-size: 0.75rem; color: #aaa;">
        <p><b>TO-247-4 Footprint Info:</b><br>
        P1(G)-P2(Ks): 2.54mm<br>
        P2(Ks)-P3(D): 5.08mm<br>
        P3(D)-P4(S): 2.54mm</p>
    </div>
</div>

<div id="viewer">
    <svg width="1000" height="750" viewBox="0 0 200 150" id="pcb">
        <g id="gL2">
            <rect x="10" y="10" width="100" height="130" fill="#00bcd4" />
        </g>

        <g id="gL4">
            <rect x="115" y="45" width="50" height="60" fill="#ffeb3b" />
        </g>

        <g id="gL3" stroke="#e91e63" stroke-width="1.2" fill="none">
            <path d="M 152.54 34.08 L 175 34.08 L 175 25" />
            <path d="M 152.54 84.08 L 175 84.08 L 175 75" />
        </g>

        <g id="gL1">
            <path d="M 10 10 H 110 V 50 H 130 V 20 H 145 V 50 H 10 Z" fill="#f44336" fill-opacity="0.8" />
            <path d="M 115 55 H 155 V 95 H 115 Z" fill="#f44336" fill-opacity="0.9" /> <path d="M 10 100 H 110 V 140 H 130 V 110 H 145 V 140 H 10 Z" fill="#f44336" fill-opacity="0.8" /> <path d="M 175 22 L 150 22" stroke="#f44336" stroke-width="0.8" fill="none" />
            <path d="M 175 72 L 150 72" stroke="#f44336" stroke-width="0.8" fill="none" />
        </g>

        <g id="gSilk">
            <rect x="10" y="55" width="20" height="40" fill="none" stroke="#fff" stroke-width="0.5" />
            <text x="11" y="52" class="silk-label">J1: MAIN PWR</text>

            <g transform="translate(130, 20)">
                <rect x="0" y="0" width="16" height="21" fill="none" stroke="#ffd700" stroke-width="0.4" />
                <circle cx="20" cy="2" r="1.5" fill="#c0c0c0" stroke="#000" stroke-width="0.2"/>
                <text x="19.2" y="2.5" class="pad-label">1</text>
                <circle cx="20" cy="4.54" r="1.5" fill="#c0c0c0" stroke="#000" stroke-width="0.2"/>
                <text x="19.2" y="5.04" class="pad-label">2</text>
                <circle cx="20" cy="9.62" r="1.5" fill="#c0c0c0" stroke="#000" stroke-width="0.2"/>
                <text x="19.2" y="10.12" class="pad-label">3</text>
                <circle cx="20" cy="12.16" r="1.5" fill="#c0c0c0" stroke="#000" stroke-width="0.2"/>
                <text x="19.2" y="12.66" class="pad-label">4</text>
                <text x="2" y="12" class="silk-label">Q1 (HS)</text>
            </g>

            <g transform="translate(130, 70)">
                <rect x="0" y="0" width="16" height="21" fill="none" stroke="#ffd700" stroke-width="0.4" />
                <circle cx="20" cy="2" r="1.5" fill="#c0c0c0" stroke="#000" stroke-width="0.2"/><text x="19.2" y="2.5" class="pad-label">1</text>
                <circle cx="20" cy="4.54" r="1.5" fill="#c0c0c0" stroke="#000" stroke-width="0.2"/><text x="19.2" y="5.04" class="pad-label">2</text>
                <circle cx="20" cy="9.62" r="1.5" fill="#c0c0c0" stroke="#000" stroke-width="0.2"/><text x="19.2" y="10.12" class="pad-label">3</text>
                <circle cx="20" cy="12.16" r="1.5" fill="#c0c0c0" stroke="#000" stroke-width="0.2"/><text x="19.2" y="12.66" class="pad-label">4</text>
                <text x="2" y="12" class="silk-label">Q2 (LS)</text>
            </g>

            <rect x="175" y="20" width="10" height="12" fill="none" stroke="#fff" stroke-width="0.3" />
            <text x="175" y="18" class="silk-label">U1: DRV</text>
            
            <rect x="170" y="2" width="22" height="10" fill="none" stroke="#aaa" stroke-width="0.5" />
            <text x="170" y="0" class="silk-label">RECOM ISO</text>

            <circle cx="50" cy="40" r="9" fill="none" stroke="#fff" stroke-width="0.3" /> <rect x="80" y="30" width="12" height="25" fill="none" stroke="#00bcd4" stroke-width="0.5" /> </g>
    </svg>
</div>

<script>
    function draw() {
        const layers = ['L1', 'L2', 'L3', 'L4'];
        layers.forEach(l => {
            const g = document.getElementById('g' + l);
            const v = document.getElementById('v' + l).checked;
            const o = document.getElementById('o' + l).value;
            g.style.display = v ? 'inline' : 'none';
            g.setAttribute('opacity', o / 100);
        });
    }
    draw();
</script>
</body>
</html>
