<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Half-Bridge PCB Layout Tool</title>

<style>
  body { font-family: Arial; }
  .controls { margin-bottom: 10px; }

  svg {
    background: #1b5e20; /* PCB green */
    border: 2px solid #333;
  }

  /* Layer colors */
  .top    { fill: #c62828; }
  .bottom { fill: #1565c0; }
  .trace  { stroke-width: 1.5; fill: none; }
  .gnd    { fill: rgba(0,0,0,0.25); }
  .vdc    { fill: rgba(255,255,255,0.25); }

  /* Parts */
  .part { stroke: black; stroke-width: 0.3; }

  /* Silkscreen */
  .silk { fill: white; font-size: 2px; }

</style>
</head>

<body>

<h3>Half-Bridge PCB Layout (Conceptual CAD)</h3>

<div class="controls">
  <label><input type="checkbox" checked onchange="toggle('layer-top')"> Top</label>
  <label><input type="checkbox" checked onchange="toggle('layer-gnd')"> GND</label>
  <label><input type="checkbox" checked onchange="toggle('layer-vdc')"> VDC</label>
  <label><input type="checkbox" checked onchange="toggle('layer-bottom')"> Bottom</label>
</div>

<svg id="pcb" width="800" height="800" viewBox="0 0 100 100">

  <!-- Board outline -->
  <rect x="0" y="0" width="100" height="100" fill="none" stroke="white"/>

  <!-- Layers -->
  <g id="layer-gnd">
    <rect x="5" y="5" width="90" height="90" class="gnd"/>
  </g>

  <g id="layer-vdc">
    <rect x="10" y="10" width="80" height="80" class="vdc"/>
  </g>

  <g id="layer-top"></g>
  <g id="layer-bottom"></g>
  <g id="silkscreen"></g>

</svg>

<script>
const svgNS = "http://www.w3.org/2000/svg";
const top = document.getElementById("layer-top");
const silk = document.getElementById("silkscreen");

function addPart(x, y, w, h, label) {
  const r = document.createElementNS(svgNS, "rect");
  r.setAttribute("x", x - w/2);
  r.setAttribute("y", 100 - y - h/2);
  r.setAttribute("width", w);
  r.setAttribute("height", h);
  r.setAttribute("class", "part top");
  top.appendChild(r);

  const t = document.createElementNS(svgNS, "text");
  t.setAttribute("x", x);
  t.setAttribute("y", 100 - y);
  t.setAttribute("text-anchor", "middle");
  t.setAttribute("class", "silk");
  t.textContent = label;
  silk.appendChild(t);
}

function addTrace(x1, y1, x2, y2) {
  const l = document.createElementNS(svgNS, "line");
  l.setAttribute("x1", x1);
  l.setAttribute("y1", 100 - y1);
  l.setAttribute("x2", x2);
  l.setAttribute("y2", 100 - y2);
  l.setAttribute("class", "trace top");
  l.setAttribute("stroke", "yellow");
  top.appendChild(l);
}

function toggle(id) {
  const g = document.getElementById(id);
  g.style.display = g.style.display === "none" ? "block" : "none";
}

/* ===== Parts ===== */
addPart(50, 70, 15, 10, "Q1\nHS");
addPart(50, 40, 15, 10, "Q2\nLS");
addPart(40, 60, 6, 10, "Cfilm1");
addPart(60, 60, 6, 10, "Cfilm2");

/* ===== Power Trace ===== */
addTrace(40, 60, 50, 70);
addTrace(60, 60, 50, 40);

</script>

</body>
</html>
